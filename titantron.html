<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SHE Tron</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background: #000;
      overflow: hidden;
    }
    #player {
      position: fixed;
      left: 0; top: 0;
      width: 100vw;
      height: 100vh;
      border: 0;
      display: block;
      background: #000;
    }
    /* optional idle image */
    #idle {
      position: fixed;
      left: 0; top: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      display: none;
    }
  </style>
</head>
<body>
  <img id="idle" alt="">
  <iframe id="player"
    allow="autoplay; encrypted-media; fullscreen; picture-in-picture"
    allowfullscreen
    referrerpolicy="origin"
  ></iframe>

  <script>
    const qs = new URLSearchParams(location.search);
    const vid  = (qs.get("v") || "").trim();
    const idle = (qs.get("idle") || "").trim();

    const iframe = document.getElementById("player");
    const idleImg = document.getElementById("idle");

    if (!vid) {
      // idle mode (optional)
      if (idle) {
        idleImg.src = idle;
        idleImg.style.display = "block";
      }
      // blank iframe (kept for consistency)
      iframe.src = "about:blank";
    } else {
      // Force the embedded player to fill the surface
      // and request higher quality when available.
      const src =
        "https://www.youtube-nocookie.com/embed/" + encodeURIComponent(vid) +
        "?autoplay=1" +
        "&mute=0" +
        "&controls=0" +
        "&rel=0" +
        "&modestbranding=1" +
        "&playsinline=1" +
        "&iv_load_policy=3" +
        "&cc_load_policy=0" +      // try to prevent forced captions
        "&vq=hd1080" +             // request HD
        "&enablejsapi=0";

      iframe.src = src;
    }
  </script>
</body>
</html>
