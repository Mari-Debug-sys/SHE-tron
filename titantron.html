<!doctype html>
<html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1">
<style>
html,body{margin:0;width:100%;height:100%;background:#000;overflow:hidden}

/* Idle image fills the screen nicely */
#idle{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none;background:#000}

/* Video container: FORCE "contain" look */
#stage{
  position:absolute; inset:0;
  display:none;
  background:#000;
}

/* This is the important part:
   we do NOT try to "cover" anything.
   We keep the video un-cropped inside the viewport.
*/
#player{
  position:absolute;
  left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:100%;
  height:100%;
  border:0;
}
</style></head>
<body>
<img id="idle" alt="idle">
<div id="stage">
  <iframe id="player" allow="autoplay; encrypted-media; fullscreen" allowfullscreen></iframe>
</div>

<script>
const qs=new URLSearchParams(location.search);
const v=qs.get("v");
const origin=location.origin;
const idleSrc=origin+"/SHE-tron/idle.png";

const idle=document.getElementById("idle");
const stage=document.getElementById("stage");
const f=document.getElementById("player");

function showIdle(){
  f.src="";
  stage.style.display="none";
  idle.style.display="block";
  idle.src=idleSrc;
}

function showVideo(id){
  idle.style.display="none";
  stage.style.display="block";
  f.src="https://www.youtube-nocookie.com/embed/"+id+
    "?autoplay=1&mute=0&controls=0&rel=0&playsinline=1"+
    "&iv_load_policy=3&modestbranding=1"+
    "&loop=1&playlist="+id+
    "&vq=hd720&origin="+encodeURIComponent(origin);
}

if(!v) showIdle(); else showVideo(v);
</script>
</body></html>
