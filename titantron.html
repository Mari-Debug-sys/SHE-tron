<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SHE Tron</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background: #000;
      overflow: hidden;
    }

    /* This is the surface the prim is drawing */
    #stage {
      position: fixed;
      inset: 0;
      background: #000;
    }

    /* We apply fit/fill by changing how the iframe is sized */
    .fit iframe {
      width: 100%;
      height: 100%;
    }

    /* "fill" = oversize slightly so there are no bars */
    .fill iframe {
      width: 115%;
      height: 115%;
      position: absolute;
      left: -7.5%;
      top: -7.5%;
    }

    iframe {
      border: 0;
      display: block;
      background: #000;
    }

    /* Optional idle image block (if you add one later) */
    #idle {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      color: #999;
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <div id="stage" class="fill"></div>

  <script>
    const qs = new URLSearchParams(location.search);
    const v = (qs.get("v") || "").trim();
    const mode = (qs.get("mode") || "fill").toLowerCase(); // default fill

    const stage = document.getElementById("stage");
    stage.className = (mode === "fit") ? "fit" : "fill";

    if (!v) {
      // No video id => just stay black
      // (You can replace this with an idle image later)
    } else {
      // YouTube embed: strip UI and captions as much as possible.
      // autoplay + playsinline; keep controls off.
      const src =
        "https://www.youtube.com/embed/" + encodeURIComponent(v) +
        "?autoplay=1" +
        "&playsinline=1" +
        "&controls=0" +
        "&disablekb=1" +
        "&fs=0" +
        "&rel=0" +
        "&modestbranding=1" +
        "&iv_load_policy=3" +
        "&cc_load_policy=0" +
        "&hl=en" +
        "&mute=0";

      const iframe = document.createElement("iframe");
      iframe.src = src;
      iframe.allow =
        "autoplay; encrypted-media; picture-in-picture";
      iframe.allowFullscreen = false;

      stage.innerHTML = "";
      stage.appendChild(iframe);
    }
  </script>
</body>
</html>
